/* Import Tailwind CSS v4 */
@import 'tailwindcss';

/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600;700&display=swap');

/* Configure daisyUI component library with theme options */
@plugin "daisyui" {
	themes:
		corporate-m,
		light --default,
		dark --prefersdark,
		lofi,
		dracula,
		nord,
		bumblebee,
		garden;
}

@plugin "daisyui/theme" {
	name: 'corporate-m';
	default: false;
	prefersdark: false;
	color-scheme: 'light';
	--color-base-100: oklch(100% 0 0);
	--color-base-200: oklch(98% 0 0);
	--color-base-300: oklch(94% 0 0);
	--color-base-content: oklch(22.389% 0.031 278.072);
	--color-accent: oklch(58% 0.158 241.966);
	--color-accent-content: oklch(100% 0 0);
	--color-secondary: oklch(55% 0.046 257.417);
	--color-secondary-content: oklch(100% 0 0);
	--color-primary: oklch(60% 0.118 184.704);
	--color-primary-content: oklch(100% 0 0);
	--color-neutral: oklch(0% 0 0);
	--color-neutral-content: oklch(100% 0 0);
	--color-info: oklch(60% 0.126 221.723);
	--color-info-content: oklch(100% 0 0);
	--color-success: oklch(62% 0.194 149.214);
	--color-success-content: oklch(100% 0 0);
	--color-warning: oklch(85% 0.199 91.936);
	--color-warning-content: oklch(0% 0 0);
	--color-error: oklch(70% 0.191 22.216);
	--color-error-content: oklch(0% 0 0);
	--radius-selector: 0.5rem;
	--radius-field: 0.5rem;
	--radius-box: 0.75rem;
	--size-selector: 0.25rem;
	--size-field: 0.25rem;
	--border: 1px;
	--depth: 0;
	--noise: 0;
}

/* 
 * Global font settings
 */
:root {
	--font-sans: 'Inter', sans-serif;
	--font-mono: 'JetBrains Mono', monospace;
}

body {
	font-family: var(--font-sans);
}

.font-mono {
	font-family: var(--font-mono);
}

/* 
 * Use Tailwind CSS v4's built-in "container" utility class.
 * Tailwind's container automatically:
 *   - Centers content horizontally
 *   - Has responsive max-widths at different breakpoints
 *   - Handles padding intelligently
 * This is better than custom utilities because it's battle-tested and responsive.
 */

@layer components {
	/* These are mostly used by the guide now. Could retire / localise them */

	/* Primary emphasis style - for hero sections and main headlines */
	.emphasis-primary {
		@apply bg-primary/10 card-border;
	}

	/* Secondary emphasis style - for important content cards */
	.emphasis-secondary {
		@apply bg-gradient-to-r from-primary/5 to-secondary/5 shadow-xl border border-primary/20 rounded-2xl;
	}

	/* Accent emphasis style - for special highlighted content */
	.emphasis-accent {
		@apply bg-gradient-to-r from-primary/5 to-secondary/5 shadow-xl border-2 border-primary rounded-2xl;
	}
}

@layer components {
	/* 
    1. SETUP & VARIABLES 
  */
	.card-field {
		/* DYNAMIC VARIABLES (Change with State) */
		--state-border: var(--color-base-300);
		--state-ring: var(--color-primary);

		/* Footer specific vars (Background and Text) */
		--footer-bg: var(--color-base-200);
		--footer-text: var(--color-base-content);

		/* STATIC VARIABLES (Never change) */
		/* We enforce the header to stay Neutral regardless of error state */
		--header-bg: var(--color-base-200);
		--header-text: var(--color-base-content);

		/* Layout & Shape */
		@apply card card-border rounded-box border transition-colors duration-200;
		@apply bg-base-100;

		/* Apply the variable */
		border-color: var(--state-border);
	}

	/* 
    2. STATE OVERRIDES
    We ONLY update border, ring, and footer variables.
  */

	.card-field[data-state],
	.card-field[data-invalid='true'] {
		/* CSS-fu: by default we want the absolute colour, but if we have a state-colour then mix it. */
		--bg-strength: 10%;
	}

	/* ERROR */
	.card-field[data-invalid='true'],
	.card-field[data-state='error'] {
		--state-border: var(--color-error);
		--state-ring: var(--color-error);
		--footer-bg: var(--color-error);
		--footer-text: var(--color-error);
	}

	/* WARNING */
	.card-field[data-state='warning'] {
		--state-border: var(--color-warning);
		--state-ring: var(--color-warning);
		--footer-bg: var(--color-warning);
		--footer-text: var(--color-warning);
	}

	/* SUCCESS */
	.card-field[data-state='success'] {
		--state-border: var(--color-success);
		--state-ring: var(--color-success);
		--footer-bg: var(--color-success);
		--footer-text: var(--color-success);
	}

	/* 
    3. INTERACTION LOGIC
  	*/

	/* Focused OR Selected */
	.card-field:focus-within,
	.card-field[data-selected='true'] {
		@apply border-2;

		border-color: var(--state-ring);
	}

	/* 
    4. ANIMATIONS 
  	*/
	.card-field {
		@apply transition-transform duration-150 ease-out;
		transform-origin: center;
	}

	/* Hover/keyboard cue */
	.card-field:hover[data-selectable='true'],
	.card-field:focus-visible[data-selectable='true'] {
		transform: scale(1.03);
		outline: 2px solid hsl(var(--bc) / 0.25);
		outline-offset: 2px;
	}

	/* 
    5. CHILD ELEMENTS
    */

	.card-field-header {
		@apply flex items-center justify-between border-b px-4 h-8 transition-colors;
		@apply rounded-t-[inherit];

		/* CONSTANT Background (Neutral) */
		background-color: var(--header-bg);

		/* DYNAMIC Border (Red/Green/Gray) - separate line works nice visually */
		border-color: color-mix(in srgb, var(--state-border) 30%, transparent);
	}

	/* Header Label Styling - FIXED COLOR */
	.card-field-header label,
	.card-field-header h3,
	.card-field-header span {
		@apply text-xs font-bold uppercase tracking-wider select-none cursor-pointer block truncate;

		/* Use the static header text variable */
		color: var(--header-text);
		opacity: 0.6;
	}

	.card-field-body {
		@apply p-0;
	}

	/* Footer Styling - DYNAMIC COLOR */
	.card-field-footer {
		@apply px-4 py-1.5 text-xs font-medium border-t flex items-center justify-between transition-colors;
		@apply rounded-b-[inherit];

		/* Dynamic BG Tint */
		background-color: color-mix(
			in srgb,
			var(--footer-bg) var(--bg-strength, 100%),
			var(--color-base-100)
		);

		/* Dynamic Border */
		border-color: color-mix(in srgb, var(--state-border) 30%, transparent);

		/* Dynamic Text */
		color: var(--footer-text);
	}
}
/* 
 * Custom utility for code/monospace textareas.
 * Combines common textarea styling for PGP keys and encrypted messages.
 */
@utility textarea-code {
	@apply font-mono text-sm;
	&:read-only {
		@apply bg-base-300 text-base-content/70;
	}
}
